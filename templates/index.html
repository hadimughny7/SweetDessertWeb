<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Dessert</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Karla:ital,wght@0,200..800;1,200..800&family=Playpen+Sans:wght@100..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=edit" />

</head>
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>


    <nav class="navbar navbar-expand-lg ">
        <div class="container-fluid">
            <div class="logo-top">
                <img src="/static/logo.png" alt="animation-head" id="nav-avatar" />
                <ul class="navbar-nav ms-auto gap-1 menu">
    <li class="nav-item">
        <a class="nav-link {% if current_page == 'home' %}current-page{% endif %}" 
           href="{{ url_for('home') }}">Home</a>
    </li>
    <li class="nav-item">
        <a class="nav-link {% if current_page == 'product' %}current-page{% endif %}" 
           href="{{ url_for('product') }}">Product</a>
    </li>
    <li class="nav-item">
        <a class="nav-link {% if current_page == 'about' %}current-page{% endif %}" 
           href="{{ url_for('about') }}">About</a>
    </li>
    <li class="nav-item">
        <a class="nav-link {% if current_page == 'contact' %}current-page{% endif %}" 
           href="{{ url_for('contact') }}">Contact</a>
    </li>
</ul>


            </div>



            <div class="justify-content-space-between" id="navbarNav">
                <ul class="navbar-nav ms-auto gap-5 me-3 d-flex align-items-center">
                    <li class="nav-item">
                        <a href="{{ url_for('cart') }}"><img src="/static/chart.png" alt=""></a>
                    </li>


                    <li class="nav-item dropdown" 
    onmouseover="this.classList.add('show'); this.querySelector('.dropdown-menu').classList.add('show');"
    onmouseout="this.classList.remove('show'); this.querySelector('.dropdown-menu').classList.remove('show');">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button">
        <img src="/static/profile.png" alt="Profile">
    </a>
  <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="right: 10%;">
    {% if session['role'] == 'admin' %}
    <li>
        <a class="dropdown-item" href="{{ url_for('admin') }}">
            <img src="/static/dashboard.png" alt="" class="dashboard-icon" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 8px;">
            Dashboard
        </a>
    </li>
    {% endif %}
    <li>
        <a class="dropdown-item" href="{{ url_for('profile') }}">
            <img src="/static/edit.png" alt="" class="edit-icon" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 8px;">
            Edit Profile
        </a>
    </li>
    <li>
        <a class="dropdown-item" href="{{ url_for('logout') }}">
            <img src="/static/logout.png" alt="" class="logout-icon" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 8px;">
            Logout
        </a>
    </li>
</ul>


            </div>

            <div id="custom-alert" class="custom-alert" style="display:none;">
                <span id="alert-message"></span>
            </div>


        </div>
    </nav>

    <div class="container">
        <div class="row ">
            <div id="wrapper-desc" class="col-md-6">
                <h1 class="mb-4">Sweet Dessert</h1>
                <p class="welcometopubgmobile">
                    Welcome to Sweet Dessert Shop, your ultimate destination for delectable desserts and exquisite
                    cakes. We are an online store dedicated to offering a delightful array of sweet treats, perfect for
                    any occasion. From creamy cheesecakes to indulgent chocolate cakes, our selection is crafted to
                    satisfy your sweet cravings at affordable prices. Enjoy the taste of happiness with every bite at
                    Sweet Dessert Shop.
                </p>
                <a href="{{ url_for('product') }}"><button class="btn btn-primary">Pick your dessert -></button></a>
            </div>

            <div class="col">
                <img src="/static/Group 1.png" alt="Foto Placeholder" class="img-fluid rounded">
            </div>
        </div>
    </div>


    <div class="section-title">
        <div class="section-desc">
            <span class="section-highlight"></span>
            <div class="clip"><img src="/static/rectangle 17.png" alt=""></div>
            <h2>Categories</h2>
        </div>
        <div class="section-header my-3">
            <h1>Browse by Category</h1>
        </div>

    </div>
    <div class="container my-5">
        <div id="menu-container" class="d-flex justify-content-between flex-nowrap">
            <div class="menu-card">
                <a href="{{ url_for('products_by_category', category='milecrepe') }}">
                <img src="static/Group 1.png" alt="milecrepe">
                    <p>Millecrepe</p>
                </a>
            </div>
            <div class="menu-card">
                <a href="{{ url_for('products_by_category', category='pasta_menu') }}">
                    <img src="static/Group 1.png" alt="pasta_menu">
                    <p>Pasta Menu</p>
                </a>
            </div>
            <div class="menu-card">
                <a href="{{ url_for('products_by_category', category='patisserie') }}">
                    <img src="static/Group 1.png" alt="patisserie">
                    <p>Patisserie</p>
                </a>
            </div>
            <div class="menu-card">
                <a href="{{ url_for('products_by_category', category='dessert') }}">
                    <img src="static/Group 1.png" alt="dessert">
                    <p>Dessert</p>
                </a>
            </div>
            <div class="menu-card">
                <a href="{{ url_for('products_by_category', category='dessert_cake') }}">
                    <img src="static/Group 1.png" alt="dessert_cake	">
                    <p>Pasta Menu</p>
                </a>
            </div>
            <div class="menu-card">
                <a href="{{ url_for('products_by_category', category='drinks') }}">
                    <img src="static/Group 1.png" alt="drinks">
                    <p>Drinks</p>
                </a>
            </div>
        </div>
    </div>

    <div class="section-title">
        <div class="section-desc">
            <span class="section-highlight"></span>
            <div class="clip"><img src="/static/rectangle 17.png" alt=""></div>
            <h2>This Month</h2>
        </div>
        <div class="section-header d-flex justify-content-between align-items-center">
            <h1>Best Selling Products</h1>
            <a href="{{ url_for('product') }}"><button class="btn btn-primary"> View All</button></a>
        </div>
    </div>

    <div class="container my-1">
        <div id="product-container " class="d-flex justify-content-between flex-nowrap">
            
                     {% for product in products %}
        <div class="product-card ">
            <a href="{{ url_for('product_detail', product_id=product['_id']) }}">
                <img src="{{ product.image }}" alt="{{ product['name'] }}">
            </a>
                    <p class="product-title">{{ product['name'] }}</p>
                    <p class="product-price">Rp. {{ product['price'] }}</p>
        </div>
    {% endfor %}
            </div>
        </div>

    <footer>
        <div class="footer-container">
            <div class="footer-left">
                <h3>Sweet Dessert</h3>
                <p>
                    Halo! Kami dari Sweet Dessert, usaha kecil yang berfokus menghadirkan berbagai macam dessert lezat
                    untuk melengkapi hari-hari Anda.
                </p>
            </div>

            <div class="footer-center">
                <h3>Information</h3>
                <ul>
                    <li><a href="#">Products</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contacts</a></li>
                </ul>
            </div>

            <div class="footer-right">
                <h3>HAPPINESS STARTS HERE</h3>
                <div class="social-icons">
                    <a href="#" class="icon"><img src="{{ url_for('static', filename='Icon-Facebook.png') }}"
                            alt=""></a>
                    <a href="#" class="icon"><img src="{{ url_for('static', filename='icon-instagram.png') }}"
                            alt=""></a>
                </div>
            </div>
        </div>

        <div class="footer-copyright">
            &copy; Copyright Galakk 2024. All rights reserved.
        </div>
    </footer>

    <script>
        const successMessage = {{ success_message|default ('') | tojson }};
        const errorMessage = {{ error_message|default ('') | tojson }};

        function showAlert(message, type) {
            const alertBox = document.getElementById("custom-alert");
            const alertMessage = document.getElementById("alert-message");

            alertMessage.textContent = message;

            if (type === "success") {
                alertBox.style.backgroundColor = "#28a745";
                alertBox.style.borderColor = "#28a745";
            } else if (type === "error") {
                alertBox.style.backgroundColor = "#F95454";
                alertBox.style.borderColor = "#f5c6cb";
            }

            alertBox.style.display = "block";
            alertBox.classList.remove("hide");

            setTimeout(() => {
                alertBox.classList.add("hide");

                setTimeout(() => {
                    alertBox.style.display = "none";
                    if (type === "success") {
                        window.location.href = "{{ url_for('signin') }}";
                    }
                }, 570);
            }, 1000);
        }

        if (successMessage) {
            showAlert(successMessage, "success");
        } else if (errorMessage) {
            showAlert(errorMessage, "error");
        }
    </script>
</body>

</html>